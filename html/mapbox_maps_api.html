<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Favorite Restaurants MapBox Exercise</title>
  <meta name="viewport" content="initial-scale=10,maximum-scale=5,user-scalable=no">
  <script src='https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js'></script>
  <link href='https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css' rel='stylesheet' />


  <style>
    body { margin: 0; padding: 0; }
    #map { position: absolute; top: 0; bottom: 0; width: 100%; }
    </style>
</head>
<body>
<h1>Tim's Favorite Restaurants</h1>
<!--<select id="zoom-select">-->
<!--  <option selected disabled>Zoom Level</option>-->
<!--  <option value="5">Zoom Level 5</option>-->
<!--  <option value="9">Zoom Level 9</option>-->
<!--  <option value="15">Zoom Level 15</option>-->
<!--  <option value="20">Zoom Level 20</option>-->
<!--</select>-->

<div id='map' style='width: 100%; height: 750px; margin-top: 10em;'></div>
<button id="remove">Clear Restaurants</button>
<script>
  "use strict";

  //Creation of the basic map ‚è¨‚è¨‚è¨üö®
  mapboxgl.accessToken = 'pk.eyJ1IjoidGltdmFyamFuIiwiYSI6ImNsZ3kzeWJwejA1bHEzZ280bzV1cmVtMmQifQ.NDbFNIeImQiit2w-pPyNuw';
  const map = new mapboxgl.Map({
    container: 'map', // container ID
    style: 'mapbox://styles/mapbox/satellite-streets-v12', // style URL
    center: [-88.15232981534209, 41.88740044950921], // starting position [lng, lat]
    zoom: 2, // starting zoom
  });


  // Add zoom and rotation controls to the map ‚è¨‚è¨‚è¨üö®
  map.addControl(new mapboxgl.NavigationControl());

  //Set location markers using constants ‚è¨‚è¨‚è¨üö®


  // const marker1 = new mapboxgl.Marker()
  //         .setLngLat([14.49716, 40.63115])
  //         .setPopup(new mapboxgl.Popup().setHTML("<h1>La Tagliatatta Ristorante</h1><p>Fine Italian Dining, Amazing Views, Unlimited House Wine</p>")) // add popup
  //         .addTo(map);
  //
  // const marker2 = new mapboxgl.Marker()
  //         .setLngLat([114.18638, 22.27940])
  //         .setPopup(new mapboxgl.Popup().setHTML("<h1>Din Tai Fung</h1><p>Michelin Star Rated Taiwanese Style Dumplings</p>")) // add popup
  //         .addTo(map);
  //
  // const marker3 = new mapboxgl.Marker()
  //         .setLngLat([-46.68016831771973, -23.563615462939865])
  //         .setPopup(new mapboxgl.Popup().setHTML("<h1>Cozinha 212</h1><p>Amazing oysters and cocktails! #tatisabe</p>")) // add popup
  //         .addTo(map);
  //
  // const marker4 = new mapboxgl.Marker()
  //         .setLngLat([-115.24078727052789, 36.12744085992333])
  //         .setPopup(new mapboxgl.Popup().setHTML("<h1>Chef Kenny's</h1><p>You won't believe this is vegan food!</p>")) // add popup
  //         .addTo(map);
  //
  // const marker5 = new mapboxgl.Marker()
  //         .setLngLat([-88.15232981534209, 41.88740044950921])
  //         .setPopup(new mapboxgl.Popup().setHTML("<h1>Tony's Steamers</h1><p>Best Hot Dogs Ever!</p>")) // add popup
  //         .addTo(map);

  //  ForEach loop to make markers display ‚è¨‚è¨‚è¨üö®//

  const restaurants = [
    {
      name: "La Tagliatatta Ristorante",
      foodType: "Fine Italian Dining, Amazing Views, Unlimited House Wine",
      location: [14.49716, 40.63115],
      priceRange: "$$$",
      // marker:'',
      // popup:''
    },
    {
      name: "Din Tai Fung",
      foodType: "Michelin Star Rated Taiwanese Style Dumplings",
      location: [114.18638, 22.27940],
      priceRange: "$$$$",
      // marker:'',
      // popup:''
    },
    {
      name: "Cozinha 212",
      foodType: "Amazing oysters and cocktails! #tatisabe",
      location: [-46.68016831771973, -23.563615462939865],
      priceRange: "$$",
      // marker:'',
      // popup:''
    },
    {
      name: "Tony's Steamers",
      foodType: "Best Hot Dogs Ever!",
      location: [ -88.15232981534209, 41.88740044950921],
      priceRange: "$",
      // marker: '',
      // popup: ''
    },
  ];

  //function to apply info from const=restaurants ‚è¨‚è¨‚è¨üö®
 function createMarkers(){
   restaurants.forEach(function (restaurant){
     restaurant.marker = new mapboxgl.Marker()
             .setLngLat(restaurant.location)
             .addTo(map);

     restaurant.popup = new mapboxgl.Popup()
             .setHTML("<h3>" + restaurant.name + "</h3><p>" + restaurant.foodType + "</p><p>" + "Price Range: " + restaurant.priceRange + "</p>")

     restaurant.marker.setPopup(restaurant.popup);


   })
 }
  createMarkers(restaurants, map);

  // //Function for button functionality ‚è¨‚è¨‚è¨üö®
  // document.getElementById('removeMarkers').addEventListener('click', function(){
  //     if(confirm("Are you sure you want to clear the map?")){
  //         createMarkers.remove()
  //         console.log('map cleared ')
  //     }
  // })



</script>

</body>
</html>